\hsection{Keys}%
%
In \dref{sec:conceptualKeys}, we discussed the topic of \emph{keys} in conceptual modelling.
Just now, we stated that relations are sets of unique records.
Keys are what make these records unique.
Keys therefore play a very important role in relational \db\ design.
It thus makes sense to revisit this topic here again.

Back in \cref{sec:conceptualKeys}, we learned that a \emph{(candidate)~key} is a minimal super key, i.e., a minimal set of attributes that can identify an entity.
With the definitions given for the relational data model that we just discussed, \dref{def:key} can also be expressed as follows~\cite{SS2005EIDDDFDB:SDLDUTRDM}:%
%
\begin{definition}[Key]%
\label{def:key2}%
A set of attributes~$K\subseteq\relSchemab{R}$ given as~$K=\{k_i:i\in\intRange{1}{m} \land k_i\in\relSchemab{R}\}$ of a relation~$R$ is a \emph{key} if and only if%
%
\begin{enumerate}%
%
\item $K$~is identifying, i.e., if the values~$v_{1,i}$ and~$v_{2,i}$ for all~$i\in\intRange{1}{m}$ are the values of the attributes $k_i$ for two rows~$r_1$ and~$r_2$~in~$R$ and~$r_1\neq r_2$, then there is at least one~$j\in\intRange{1}{m}$ with~$v_{1,j}\neq v_{2,j}$ and%
%
\item there is no subset of~$\{k_1, \dots, k_m\}$ with this identifying property, i.e., the key is minimal.%
%
\end{enumerate}%
\end{definition}%
%
For a super key~$S$, as introduced in \dref{def:superKey}, it then simply holds that~$K\subseteq S\subseteq\relSchemab{R}$.
Each relation must have at least one key, because the records in a relation are unique.
One of the keys is chosen as primary key~(see \cref{def:primaryKey}).
Often, however, we instead use a surrogate key, i.e., an identifier automatically generated by the \dbms~(see \cref{def:surrogateKey}), as primary key.

We already learned that the records of one relation can reference records in another relation via so-called \emph{foreign keys}.
Let us now formalize this concept~\cite{SS2005EIDDDFDB:SDLDUTRDM}:%
%
\begin{definition}[Foreign Key]%
\label{def:foreignKey}%
A set of attributes~$F$ in the schema~\relSchemab{R_1} of a relation~$R_1$ is called a \emph{foreign key} if%
\begin{enumerate}%
\item the attributes of~$F$ have the same domains as the attributes of primary key~$P$ of a different relation~$R_2$ \emph{and}%
\item every value of~$F$ in a tuple~$r_1\in R_1$ either occurs as a value of $P$ for some tuple~$r_2\in R_2$ or is~\sqlilIdx{NULL}.%
\end{enumerate}%
\end{definition}%
%
With this, we have lifted the definitions of (candidate) keys, super keys, primary keys, and foreign keys from the conceptual level to the logical level under assumption of the relational data model.%
%
\endhsection%
