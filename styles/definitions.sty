%%
\RequirePackage{ntheorem}%
\RequirePackage[framemethod=TikZ]{mdframed}%
%
\theorembodyfont{\normalfont}%
\newcommand{\definitionautorefname}{Definition}%%
%
%%% Definitions
\newmdtheoremenv[%
linewidth=2pt,%
linecolor=definition-frame,%
roundcorner=4pt,%
backgroundcolor=definition-background,%
leftmargin=5pt,%
rightmargin=5pt,%
font={},%
nobreak=true%
]{definition}{\definitionautorefname}[chapter]%
%
\newcommand{\@bestPracticeautorefname}{Best Practice}%
%
%%% Best Practices
%% The best practices suite offers the command \bestPractice that prints
%% information  about a best practice in a framed box.
%% The list of all best practices can be printed via \printBestPractices.
\newmdtheoremenv[%
linewidth=2pt,%
linecolor=bestpractice-frame,%
roundcorner=4pt,%
backgroundcolor=bestpractice-background,%
leftmargin=5pt,%
rightmargin=5pt,%
font={},%
nobreak=true%
]{@bestPractice}{\@bestPracticeautorefname}%
%
\xdef\@bestPractices{}%
%
\gdef\bestPractice#1#2{%
\begin{@bestPractice}\label{bp:#1}#2\end{@bestPractice}%
%
\ifx\@bestPractices\empty\expandafter\@firstoftwo\else\expandafter\@secondoftwo\fi%
{\gdef\@bestPractices{\noindent\cref{bp:#1}:~#2}}%
{\g@addto@macro\@bestPractices{\medskip\par\noindent\cref{bp:#1}: #2}}%
}%
%
\gdef\printBestPractices{%
\chapter*{Best Practices}%
\pdfbookmark{Best Practices}{Best Practices}%
When working with databases, there are always many best practices that should be followed.
Best practices are methods and styles that have crystallized over decades of programming experience.
They help to avoid mistakes, increase the code maintainability, and improve performance.\medskip

\@bestPractices%
}%
%
