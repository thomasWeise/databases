%%
%% Listings and Listing Styles.
%%
%%
%% Use latexgit to place a listing.
%% #1 the git repository
%% #2 the local path
%% #3 the post-processing
%% #4 the label (lst: will be pre-pended)
%% #5 the caption
%% #6 the style to use
\protected\gdef\gitCode#1#2#3#4#5#6{%
\gitLoad{#1}{#2}{#3}%
\expandafter\expandafter\expandafter\edef\expandafter\csname @pwp@gitUrl:lst:#4\endcsname{\gitUrl}%
\expandafter\expandafter\expandafter\edef\expandafter\csname @pwp@gitFile:lst:#4\endcsname{\gitFile}%
\begin{figure}[tb]%
\lstinputlisting[label={lst:#4}#6,caption={#5~(\href{\csname @pwp@gitUrl:lst:#4\endcsname}{src})}]{\csname @pwp@gitFile:lst:#4\endcsname}%
\end{figure}%
}%
%
%
%% Use latexgit to place a listing with program output.
%% #1 the git repository
%% #2 the local path
%% #3 the command
%% #4 the label (exec: will be pre-pended)
%% #5 the additional parameters, if any
%% #6 the style to use
\protected\gdef\gitOutputWithStyle#1#2#3#4#5#6{%
\gitExec{#1}{#2}{#3}%
\expandafter\expandafter\expandafter\edef\expandafter\csname @pwp@gitFile:exec:#4\endcsname{\gitFile}%
\lstinputlisting[style=#6#5]{\csname @pwp@gitFile:exec:#4\endcsname}%
}%
%
